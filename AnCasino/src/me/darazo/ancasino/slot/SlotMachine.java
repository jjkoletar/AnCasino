package me.darazo.ancasino.slot;

import java.util.ArrayList;

import org.bukkit.Material;
import org.bukkit.block.Block;

public class SlotMachine {

	private String name, type, owner, world;
	private Boolean managed, busy = false, enabled = true;
	private ArrayList<Block> blocks;
	private Block controller;
	private Double funds;

	// Complete slot machine constructor
	public SlotMachine(String name, String type, String owner, String world,
			Boolean managed, ArrayList<Block> blocks, Block controller,
			Double funds) {

		this.name = name;
		this.type = type;
		this.owner = owner;
		this.world = world;
		this.managed = managed;
		this.blocks = blocks;
		this.controller = controller;
		this.funds = funds;

	}

	// New slot machine constructor
	public SlotMachine(String name, String type, String owner, String world,
			Boolean managed) {

		this.name = name;
		this.type = type;
		this.owner = owner;
		this.world = world;
		this.managed = managed;
		this.funds = 0.0;

		if (managed) {
			this.enabled = false;
		}
	}

	// Returns name of slot machine
	public String getName() {
		return this.name;
	}

	// Returns type name of slot machine
	public String getType() {
		return this.type;
	}

	// Returns owner of slot machine
	public String getOwner() {
		return this.owner;
	}

	// Returns if slot machine is managed
	public Boolean isManaged() {
		return this.managed;
	}

	// Returns world name of slot machine
	public String getWorld() {
		return this.world;
	}

	// Check if slot is in use
	public Boolean isBusy() {
		return this.busy;
	}

	public Boolean isEnabled() {
		return this.enabled;
	}

	// Returns available funds
	public Double getFunds() {
		return this.funds;
	}

	// Returns blocks in reel
	public ArrayList<Block> getBlocks() {
		return this.blocks;
	}

	// Returns controller block
	public Block getController() {
		return this.controller;
	}

	// Sets reel blocks
	public void setBlocks(ArrayList<Block> blocks) {
		this.blocks = blocks;
	}

	// Sets controller block
	public void setController(Block controller) {
		this.controller = controller;
		controller.setType(Material.NOTE_BLOCK);
	}

	// Sets type
	public void setType(String type) {
		this.type = type;
	}

	// Sets managed
	public void setManaged(Boolean managed) {
		this.managed = managed;
	}

	// Sets owner
	public void setOwner(String owner) {
		this.owner = owner;
	}

	// Deposit the amount into the slot machine
	public void deposit(Double amount) {
		this.funds += amount;
	}

	// Withdraw the amount from the slot machine
	public void withdraw(Double amount) {
		this.funds -= amount;
	}

	// Set disabled state
	public void setEnabled(Boolean enabled) {
		this.enabled = enabled;
	}

	// Set use status
	public void toggleBusy() {

		if (busy) {
			this.busy = false;
		} else {
			this.busy = true;
		}
	}

}
